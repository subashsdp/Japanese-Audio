from gtts import gTTS
import os
from pydub import AudioSegment
from moviepy.editor import TextClip, CompositeVideoClip, AudioFileClip, ImageClip, VideoFileClip, concatenate_videoclips
from moviepy.config import change_settings
from PIL import Image, ImageDraw, ImageFont

change_settings({"IMAGEMAGICK_BINARY": r"C:\Program Files\ImageMagick-7.1.1-Q16-HDRI\magick.exe"})

def text_to_audio(text, lang, filename):
    try:
        tts = gTTS(text=text, lang=lang)
        tts.save(os.path.join("Audio", filename))
        print(f"Audio saved to: {os.path.join('Audio', filename)}")
    except Exception as e:
        print(f"An error occurred: {e}")

def combine_audio_files(audio_files, output_filename):
    combined = AudioSegment.empty()
    for file in audio_files:
        audio = AudioSegment.from_mp3(os.path.join("Audio", file))
        combined += audio
        print(f"Added {file} to the combined audio")
    combined.export(os.path.join("Audio", output_filename), format="mp3")
    print(f"Combined audio saved to: {os.path.join('Audio', output_filename)}")

japan_dataset = [{"Greetings":[{"Japanese":"おはよう ございます","Romaji":"ohayou gozaimasu","English":"Good morning"},{"Japanese":"こんにちは","Romaji":"konnichiwa","English":"Good afternoon / Hello / Hi"},{"Japanese":"おやすみなさい","Romaji":"oyasuminasai","English":"Good Night"},{"Japanese":"すみません","Romaji":"sumimasen","English":"Sorry / Excuse me / Thank you"},{"Japanese":"ごめんなさい","Romaji":"gomennasai","English":"Sorry"},{"Japanese":"みなさん","Romaji":"minasan","English":"Everyone"},{"Japanese":"ありがとう ございます","Romaji":"arigatou gozaimasu","English":"Thank you"},{"Japanese":"どういたしまして","Romaji":"douitashimashite","English":"You are welcome"},{"Japanese":"じゃまた","Romaji":"ja mata","English":"See you again"},{"Japanese":"さようなら","Romaji":"sayounara","English":"Goodbye"},{"Japanese":"こんばんは","Romaji":"konbanwa","English":"Good evening"},{"Japanese":"おねがいします","Romaji":"onegaishimasu","English":"Please (while asking a favor)"},{"Japanese":"どうぞ","Romaji":"douzo","English":"Please (while offering something)"},{"Japanese":"ください","Romaji":"kudasai","English":"Please"},{"Japanese":"おめでとうございます","Romaji":"omedetou gozaimasu","English":"Congratulations"},{"Japanese":"だいじょうぶです","Romaji":"daijoubu desu","English":"It’s ok / Alright"},{"Japanese":"たんじょうび","Romaji":"tanjoubi","English":"Birthday"}],"ClassroomInstructions":[{"Japanese":"はじめます","Romaji":"hajimemasu","English":"To start"},{"Japanese":"わかります","Romaji":"wakarimasu","English":"To understand"},{"Japanese":"やすみます","Romaji":"yasumimasu","English":"To take a break/rest"},{"Japanese":"おわります","Romaji":"owarimasu","English":"To finish"}],"QuestionTypes":[{"Japanese":"はじめましょうか","Romaji":"hajimemashou ka","English":"Shall we start?"},{"Japanese":"やすみましょうか","Romaji":"yasumimashou ka","English":"Shall we take a break?"},{"Japanese":"おわりましょうか","Romaji":"owarimashou ka","English":"Shall we finish?"},{"Japanese":"わかりますか","Romaji":"wakarimasu ka","English":"Do you understand?"}],"PluralTypes":[{"Japanese":"はじめましょう","Romaji":"hajimemashou","English":"Let’s start"},{"Japanese":"やすみましょう","Romaji":"yasumimashou","English":"Let’s take a break"},{"Japanese":"おわりましょう","Romaji":"owarimashou","English":"Let’s finish"}],"DaysOfTheWeek":[{"Japanese":"にちようび","Romaji":"nichiyoubi","English":"Sunday (Sun)"},{"Japanese":"げつようび","Romaji":"getsuyoubi","English":"Monday (Moon)"},{"Japanese":"かようび","Romaji":"kayoubi","English":"Tuesday (Fire)"},{"Japanese":"すいようび","Romaji":"suiyoubi","English":"Wednesday (Water)"},{"Japanese":"もくようび","Romaji":"mokuyoubi","English":"Thursday (Tree/Wood)"},{"Japanese":"きんようび","Romaji":"kinyoubi","English":"Friday (Gold)"},{"Japanese":"どようび","Romaji":"doyoubi","English":"Saturday (Soil/Earth)"},{"Japanese":"なんようび ですか","Romaji":"nanyoubi desu ka","English":"What day?"},{"Japanese":"きょうは なんようび ですか？","Romaji":"kyou wa nanyoubi desu ka?","English":"What is the day today?"}],"Days":[{"Japanese":"おととい","Romaji":"ototoi","English":"Day before yesterday"},{"Japanese":"きのう/さくじつ","Romaji":"kinou/sakujitsu","English":"Yesterday"},{"Japanese":"きょう/ほんじつ","Romaji":"kyou/honjitsu","English":"Today"},{"Japanese":"あした/あす/よくじつ","Romaji":"ashita/asu/yokujitsu","English":"Tomorrow"},{"Japanese":"あさって","Romaji":"asatte","English":"Day after tomorrow"}],"Year":[{"Japanese":"おととし","Romaji":"ototoshi","English":"Year before last"},{"Japanese":"きょねん","Romaji":"kyonen","English":"Last year"},{"Japanese":"ことし","Romaji":"kotoshi","English":"This year"},{"Japanese":"らいねん","Romaji":"rainen","English":"Next year"},{"Japanese":"さらいねん","Romaji":"sarainen","English":"Year after next"}],"Month":[{"Japanese":"せんせんげつ","Romaji":"sensengestu","English":"Month before last"},{"Japanese":"せんげつ","Romaji":"sengetsu","English":"Last month"},{"Japanese":"こんげつ","Romaji":"kongetsu","English":"This month"},{"Japanese":"らいげつ","Romaji":"raigetsu","English":"Next month"},{"Japanese":"さらいげつ","Romaji":"saraigetsu","English":"Month after next"}],"Week":[{"Japanese":"せんせんしゅう","Romaji":"sensenshuu","English":"Week before last"},{"Japanese":"せんしゅう","Romaji":"senshuu","English":"Last week"},{"Japanese":"こんしゅう","Romaji":"konshuu","English":"This week"},{"Japanese":"らいしゅう","Romaji":"raishuu","English":"Next week"},{"Japanese":"さらいしゅう","Romaji":"saraishuu","English":"Week after next"}],"Numbers-Basic":[{"Japanese":"いち","Romaji":"ichi","English":"1"},{"Japanese":"に","Romaji":"ni","English":"2"},{"Japanese":"さん","Romaji":"san","English":"3"},{"Japanese":"よん/よ/し","Romaji":"yon/yo/shi","English":"4"},{"Japanese":"ご","Romaji":"go","English":"5"},{"Japanese":"ろく","Romaji":"roku","English":"6"},{"Japanese":"なな/しち","Romaji":"nana/shichi","English":"7"},{"Japanese":"はち","Romaji":"hachi","English":"8"},{"Japanese":"きゅう/く","Romaji":"kyuu/ku","English":"9"},{"Japanese":"じゅう","Romaji":"juu","English":"10"}],"10s":[{"Japanese":"じゅういち","Romaji":"juuichi","English":"11"},{"Japanese":"じゅうに","Romaji":"juuni","English":"12"},{"Japanese":"じゅうさん","Romaji":"juusan","English":"13"},{"Japanese":"じゅうよん","Romaji":"juuyon","English":"14"},{"Japanese":"じゅうご","Romaji":"juugo","English":"15"},{"Japanese":"じゅうろく","Romaji":"juuroku","English":"16"},{"Japanese":"じゅうなな","Romaji":"juunana","English":"17"},{"Japanese":"じゅうはち","Romaji":"juuhachi","English":"18"},{"Japanese":"じゅうきゅう","Romaji":"juukyuu","English":"19"}],"MultiplesOf10":[{"Japanese":"にじゅう","Romaji":"nijuu","English":"20"},{"Japanese":"にじゅういち","Romaji":"nijuuichi","English":"21"}],"100s":[{"Japanese":"ひゃく","Romaji":"hyaku","English":"100"},{"Japanese":"にひゃく","Romaji":"nihyaku","English":"200"},{"Japanese":"さんびゃく","Romaji":"sanbyaku","English":"300"},{"Japanese":"よんひゃく","Romaji":"yonhyaku","English":"400"},{"Japanese":"ごひゃく","Romaji":"gohyaku","English":"500"},{"Japanese":"ろっぴゃく","Romaji":"roppyaku","English":"600"},{"Japanese":"ななひゃく","Romaji":"nanahyaku","English":"700"},{"Japanese":"はっぴゃく","Romaji":"happyaku","English":"800"},{"Japanese":"きゅうひゃく","Romaji":"kyuuhyaku","English":"900"}],"1000s":[{"Japanese":"せん/いっせん","Romaji":"sen/issen","English":"1000"},{"Japanese":"にせん","Romaji":"nisen","English":"2000"},{"Japanese":"さんぜん","Romaji":"sanzen","English":"3000"},{"Japanese":"よんせん","Romaji":"yonsen","English":"4000"},{"Japanese":"ごせん","Romaji":"gosen","English":"5000"},{"Japanese":"ろくせん","Romaji":"rokusen","English":"6000"},{"Japanese":"ななせん","Romaji":"nanasen","English":"7000"},{"Japanese":"はっせん","Romaji":"hassen","English":"8000"},{"Japanese":"きゅうせん","Romaji":"kyuusen","English":"9000"}],"10,000s":[{"Japanese":"いちまん","Romaji":"ichiman","English":"10,000"},{"Japanese":"にまん","Romaji":"niman","English":"20,000"},{"Japanese":"さんまん","Romaji":"sanman","English":"30,000"},{"Japanese":"よんまん","Romaji":"yonman","English":"40,000"},{"Japanese":"ごまん","Romaji":"goman","English":"50,000"},{"Japanese":"ろくまん","Romaji":"rokuman","English":"60,000"},{"Japanese":"ななまん","Romaji":"nanaman","English":"70,000"},{"Japanese":"はちまん","Romaji":"hachiman","English":"80,000"},{"Japanese":"きゅうまん","Romaji":"kyuuman","English":"90,000"},{"Japanese":"じゅうまん","Romaji":"juuman","English":"100,000"}],"Time":[{"Japanese":"ごぜん","Romaji":"gozen","English":"a.m."},{"Japanese":"ごご","Romaji":"gogo","English":"p.m."},{"Japanese":"いちじ","Romaji":"ichiji","English":"1 o’clock"},{"Japanese":"にじ","Romaji":"niji","English":"2 o’clock"},{"Japanese":"さんじ","Romaji":"sanji","English":"3 o’clock"},{"Japanese":"よじ","Romaji":"yoji","English":"4 o’clock"},{"Japanese":"ごじ","Romaji":"goji","English":"5 o’clock"},{"Japanese":"ろくじ","Romaji":"rokuji","English":"6 o’clock"},{"Japanese":"しちじ","Romaji":"shichiji","English":"7 o’clock"},{"Japanese":"はちじ","Romaji":"hachiji","English":"8 o’clock"},{"Japanese":"くじ","Romaji":"kuji","English":"9 o’clock"},{"Japanese":"じゅうじ","Romaji":"juuji","English":"10 o’clock"},{"Japanese":"じゅういちじ","Romaji":"juuichiji","English":"11 o’clock"},{"Japanese":"じゅうにじ","Romaji":"juuniji","English":"12 o’clock"},{"Japanese":"いまなんじですか？","Romaji":"ima nanji desu ka?","English":"What is the time now?"}],"Minutes":[{"Japanese":"いっぷん","Romaji":"ippun","English":"1 minute"},{"Japanese":"にふん","Romaji":"nifun","English":"2 minutes"},{"Japanese":"さんぷん","Romaji":"sanpun","English":"3 minutes"},{"Japanese":"よんぷん","Romaji":"yonpun","English":"4 minutes"},{"Japanese":"ごふん","Romaji":"gofun","English":"5 minutes"},{"Japanese":"ろっぷん","Romaji":"roppun","English":"6 minutes"},{"Japanese":"ななふん","Romaji":"nanafun","English":"7 minutes"},{"Japanese":"はっぷん","Romaji":"happun","English":"8 minutes"},{"Japanese":"きゅうふん","Romaji":"kyuufun","English":"9 minutes"},{"Japanese":"じゅっぷん/じっぷん","Romaji":"juppun/jippun","English":"10 minutes"},{"Japanese":"じゅういっぷん","Romaji":"juuippun","English":"11 minutes"},{"Japanese":"じゅうにふん","Romaji":"juunifun","English":"12 minutes"},{"Japanese":"じゅうさんぷん","Romaji":"juusanpun","English":"13 minutes"},{"Japanese":"じゅうきゅうふん","Romaji":"juukyuufun","English":"19 minutes"},{"Japanese":"にじゅっぷん","Romaji":"nijuppun","English":"20 minutes"},{"Japanese":"さんじゅっぷん/はん","Romaji":"sanjuppun/han","English":"30 minutes/half past"},{"Japanese":"よんじゅっぷん","Romaji":"yonjuppun","English":"40 minutes"},{"Japanese":"ごじゅっぷん","Romaji":"gojuppun","English":"50 minutes"},{"Japanese":"ごじゅうきゅうふん","Romaji":"gojuukyuu fun","English":"59 minutes"},{"Japanese":"なんぷん","Romaji":"nanpun","English":"What minute?"}],"Months":[{"Japanese":"しょうがつ","Romaji":"shougatsu","English":"New Year"},{"Japanese":"いちがつ","Romaji":"ichigatsu","English":"1st Month (January)"},{"Japanese":"にがつ","Romaji":"nigatsu","English":"2nd Month (February)"},{"Japanese":"さんがつ","Romaji":"sangatsu","English":"3rd Month (March)"},{"Japanese":"しがつ","Romaji":"shigatsu","English":"4th Month (April)"},{"Japanese":"ごがつ","Romaji":"gogatsu","English":"5th Month (May)"},{"Japanese":"ろくがつ","Romaji":"rokugatsu","English":"6th Month (June)"},{"Japanese":"しちがつ","Romaji":"shichigatsu","English":"7th Month (July)"},{"Japanese":"はちがつ","Romaji":"hachigatsu","English":"8th Month (August)"},{"Japanese":"くがつ","Romaji":"kugatsu","English":"9th Month (September)"},{"Japanese":"じゅうがつ","Romaji":"juugatsu","English":"10th Month (October)"},{"Japanese":"じゅういちがつ","Romaji":"juuichigatsu","English":"11th Month (November)"},{"Japanese":"じゅうにがつ","Romaji":"juunigatsu","English":"12th Month (December)"},{"Japanese":"なんがつ","Romaji":"nangatsu","English":"What month?"}],"Days_of_the_Month":[{"Japanese":"ついたち","Romaji":"tsuitachi","English":"1st"},{"Japanese":"ふつか","Romaji":"futsuka","English":"2nd"},{"Japanese":"みっか","Romaji":"mikka","English":"3rd"},{"Japanese":"よっか","Romaji":"yokka","English":"4th"},{"Japanese":"いつか","Romaji":"itsuka","English":"5th"},{"Japanese":"むいか","Romaji":"muika","English":"6th"},{"Japanese":"なのか","Romaji":"nanoka","English":"7th"},{"Japanese":"ようか","Romaji":"youka","English":"8th"},{"Japanese":"ここのか","Romaji":"kokonoka","English":"9th"},{"Japanese":"とおか","Romaji":"tooka","English":"10th"},{"Japanese":"じゅういちにち","Romaji":"juuichinichi","English":"11th"},{"Japanese":"じゅうににち","Romaji":"juuninichi","English":"12th"},{"Japanese":"じゅうさんにち","Romaji":"juusannichi","English":"13th"},{"Japanese":"じゅうよっか","Romaji":"juuyokka","English":"14th"},{"Japanese":"じゅうごにち","Romaji":"juugonichi","English":"15th"},{"Japanese":"じゅうろくにち","Romaji":"juurokunichi","English":"16th"},{"Japanese":"じゅうしちにち","Romaji":"juushichinichi","English":"17th"},{"Japanese":"じゅうはちにち","Romaji":"juuhachinichi","English":"18th"},{"Japanese":"じゅうくにち","Romaji":"juukunichi","English":"19th"},{"Japanese":"はつか","Romaji":"hatsuka","English":"20th"},{"Japanese":"にじゅういちにち","Romaji":"nijuuichinichi","English":"21st"},{"Japanese":"にじゅうににち","Romaji":"nijuuninichi","English":"22nd"},{"Japanese":"にじゅうさんにち","Romaji":"nijuusannichi","English":"23rd"},{"Japanese":"にじゅうよっか","Romaji":"nijuuyokka","English":"24th"},{"Japanese":"にじゅごにち","Romaji":"nijuugonichi","English":"25th"},{"Japanese":"にじゅうろくにち","Romaji":"nijuurokunichi","English":"26th"},{"Japanese":"にじゅうしちにち","Romaji":"nijuushichinichi","English":"27th"},{"Japanese":"にじゅうはちにち","Romaji":"nijuuhachinichi","English":"28th"},{"Japanese":"にじゅうきゅうにち","Romaji":"nijuukyuunichi","English":"29th"},{"Japanese":"さんじゅうにち","Romaji":"sanjuunichi","English":"30th"},{"Japanese":"さんじゅういちにち","Romaji":"sanjuuichinichi","English":"31st"},{"Japanese":"なんにち","Romaji":"nannichi","English":"What day?"}],"Colors":[{"Japanese":"あかい/あか","Romaji":"akai/aka","English":"Red"},{"Japanese":"あおい/あお","Romaji":"aoi/ao","English":"Blue"},{"Japanese":"しろい/しろ","Romaji":"shiroi/shiro","English":"White"},{"Japanese":"くろい/くろ","Romaji":"kuroi/kuro","English":"Black"},{"Japanese":"ちゃいろ","Romaji":"chairo","English":"Brown"},{"Japanese":"みどり","Romaji":"midori","English":"Green"},{"Japanese":"むらさき","Romaji":"murasaki","English":"Purple"},{"Japanese":"きいろ","Romaji":"kiiro","English":"Yellow"},{"Japanese":"きん","Romaji":"kin","English":"Gold"},{"Japanese":"ぎん","Romaji":"gin","English":"Silver"},{"Japanese":"はいいろ","Romaji":"haiiro","English":"Grey"},{"Japanese":"こんいろ","Romaji":"koniro","English":"Navy Blue"},{"Japanese":"ピンク","Romaji":"pinku","English":"Pink"},{"Japanese":"オレンジ","Romaji":"orenji","English":"Orange"}],"Position":[{"Japanese":"うえ","Romaji":"ue","English":"Up/Above"},{"Japanese":"した","Romaji":"shita","English":"Down/Under"},{"Japanese":"まえ","Romaji":"mae","English":"Front/Before"},{"Japanese":"うしろ","Romaji":"ushiro","English":"Behind/Back"},{"Japanese":"あいだ","Romaji":"aida","English":"Between"},{"Japanese":"ちかい","Romaji":"chikai","English":"Near"},{"Japanese":"とおい","Romaji":"tooi","English":"Far"},{"Japanese":"なか","Romaji":"naka","English":"Inside"},{"Japanese":"そと","Romaji":"soto","English":"Outside"},{"Japanese":"みぎ","Romaji":"migi","English":"Right"},{"Japanese":"ひだり","Romaji":"hidari","English":"Left"}],"Directions":[{"Japanese":"きた","Romaji":"kita","English":"North"},{"Japanese":"みなみ","Romaji":"minami","English":"South"},{"Japanese":"ひがし","Romaji":"higashi","English":"East"},{"Japanese":"にし","Romaji":"nishi","English":"West"}],"Seasons":[{"Japanese":"なつ","Romaji":"natsu","English":"Summer"},{"Japanese":"あき","Romaji":"aki","English":"Autumn"},{"Japanese":"ふゆ","Romaji":"fuyu","English":"Winter"},{"Japanese":"はる","Romaji":"haru","English":"Spring"}],"Weather":[{"Japanese":"あめ","Romaji":"ame","English":"Rain"},{"Japanese":"ゆき","Romaji":"yuki","English":"Snow"},{"Japanese":"くもり","Romaji":"kumori","English":"Cloudy"},{"Japanese":"はれ","Romaji":"hare","English":"Clear"}],"Family":[{"Japanese":"そふ","Romaji":"sofu","English":"Grandfather"},{"Japanese":"そぼ","Romaji":"sobo","English":"Grandmother"},{"Japanese":"ちち","Romaji":"chichi","English":"Father"},{"Japanese":"はは","Romaji":"haha","English":"Mother"},{"Japanese":"あに","Romaji":"ani","English":"Elder brother"},{"Japanese":"あね","Romaji":"ane","English":"Elder sister"},{"Japanese":"おとうと","Romaji":"otouto","English":"Younger brother"},{"Japanese":"いもうと","Romaji":"imouto","English":"Younger sister"},{"Japanese":"おじ","Romaji":"oji","English":"Uncle"},{"Japanese":"おば","Romaji":"oba","English":"Aunt"},{"Japanese":"むすこ","Romaji":"musuko","English":"Son"},{"Japanese":"むすめ","Romaji":"musume","English":"Daughter"},{"Japanese":"おっと/しゅじん","Romaji":"otto/shujin","English":"Husband"},{"Japanese":"つま/かない","Romaji":"tsuma/kanai","English":"Wife"},{"Japanese":"りょうしん","Romaji":"ryoushin","English":"Parents"},{"Japanese":"こども","Romaji":"kodomo","English":"Children"},{"Japanese":"ともだち","Romaji":"tomodachi","English":"Friend"},{"Japanese":"しんせき","Romaji":"shinseki","English":"Relative"},{"Japanese":"まご","Romaji":"mago","English":"Grandchild"},{"Japanese":"あかちゃん","Romaji":"akachan","English":"Baby"},{"Japanese":"きょうだい","Romaji":"kyoudai","English":"Siblings"},{"Japanese":"しまい","Romaji":"shimai","English":"Sisters"},{"Japanese":"いとこ","Romaji":"itoko","English":"Cousin"}],"Other_Family":[{"Japanese":"おじいさん","Romaji":"ojiisan","English":"Grandfather"},{"Japanese":"おばあさん","Romaji":"obaasan","English":"Grandmother"},{"Japanese":"おとうさん","Romaji":"otousan","English":"Father"},{"Japanese":"おかあさん","Romaji":"okaasan","English":"Mother"},{"Japanese":"おにいさん","Romaji":"oniisan","English":"Elder brother"},{"Japanese":"おねえさん","Romaji":"oneesan","English":"Elder sister"},{"Japanese":"おとうとさん","Romaji":"otoutosan","English":"Younger brother"},{"Japanese":"いもうとさん","Romaji":"imoutosan","English":"Younger sister"},{"Japanese":"おじさん","Romaji":"ojisan","English":"Uncle"},{"Japanese":"おばさん","Romaji":"obasan","English":"Aunt"},{"Japanese":"むすこさん","Romaji":"musukosan","English":"Son"},{"Japanese":"むすめさん","Romaji":"musumesan","English":"Daughter"},{"Japanese":"ごしゅじん","Romaji":"goshujin","English":"Husband"},{"Japanese":"おくさん","Romaji":"okusan","English":"Wife"},{"Japanese":"ごりょうしん","Romaji":"goryoushin","English":"Parents"},{"Japanese":"こども","Romaji":"kodomo","English":"Children"},{"Japanese":"ともだち","Romaji":"tomodachi","English":"Friend"},{"Japanese":"しんせき","Romaji":"shinseki","English":"Relative"},{"Japanese":"ごまご","Romaji":"gomago","English":"Grandchild"},{"Japanese":"あかちゃん","Romaji":"akachan","English":"Baby"},{"Japanese":"ごきょうだい","Romaji":"gokyoudai","English":"Siblings"},{"Japanese":"ごしまい","Romaji":"goshimai","English":"Sisters"},{"Japanese":"いとこ","Romaji":"itoko","English":"Cousin"}],"Body_Parts":[{"Japanese":"あたま","Romaji":"atama","English":"Head"},{"Japanese":"ひたい","Romaji":"hitai","English":"Forehead"},{"Japanese":"め","Romaji":"me","English":"Eye"},{"Japanese":"みみ","Romaji":"mimi","English":"Ear"},{"Japanese":"はな","Romaji":"hana","English":"Nose"},{"Japanese":"くち","Romaji":"kuchi","English":"Mouth"},{"Japanese":"あご","Romaji":"ago","English":"Chin"},{"Japanese":"かた","Romaji":"kata","English":"Shoulder"},{"Japanese":"うで","Romaji":"ude","English":"Arm"},{"Japanese":"ほね","Romaji":"hone","English":"Bone"},{"Japanese":"て","Romaji":"te","English":"Hand"},{"Japanese":"ゆび","Romaji":"yubi","English":"Fingers"},{"Japanese":"てくび","Romaji":"tekubi","English":"Wrist"},{"Japanese":"まゆ","Romaji":"mayu","English":"Eyebrow"},{"Japanese":"まつげ","Romaji":"matsuge","English":"Eyelashes"},{"Japanese":"からだ","Romaji":"karada","English":"Body"},{"Japanese":"あし","Romaji":"ashi","English":"Leg"},{"Japanese":"あしくび","Romaji":"ashikubi","English":"Ankle"},{"Japanese":"こし","Romaji":"koshi","English":"Waist"},{"Japanese":"はだ","Romaji":"hada","English":"Skin"},{"Japanese":"つめ","Romaji":"tsume","English":"Nail"},{"Japanese":"ほほ","Romaji":"hoho","English":"Cheek"},{"Japanese":"くび","Romaji":"kubi","English":"Neck"},{"Japanese":"むね","Romaji":"mune","English":"Chest"},{"Japanese":"おなか","Romaji":"onaka","English":"Stomach"},{"Japanese":"は","Romaji":"ha","English":"Teeth"},{"Japanese":"くちびる","Romaji":"kuchibiru","English":"Lips"},{"Japanese":"かみ","Romaji":"kami","English":"Hair"}],"Daily_Phrases":[{"Japanese":"ごちゅうもんは","Romaji":"gochuumon wa","English":"Placing an order"},{"Japanese":"かしこまりました","Romaji":"kashikomarimashita","English":"Confirming an order"},{"Japanese":"いただきます","Romaji":"itadakimasu","English":"Thank you for the food (Before eating)"},{"Japanese":"ごちそうさまでした","Romaji":"gochisousama deshita","English":"Thank you for the food (After eating)"},{"Japanese":"ただいま","Romaji":"tadaima","English":"I am home/I’m back"},{"Japanese":"おかえりなさい","Romaji":"okaerinasai","English":"Welcome back"},{"Japanese":"いってきます","Romaji":"ittekimasu","English":"I will go and come"},{"Japanese":"いってらっしゃい","Romaji":"itterasshai","English":"Yes, you go and come"},{"Japanese":"いらっしゃい","Romaji":"irasshai","English":"Welcome"},{"Japanese":"いらっしゃいませ","Romaji":"irasshaimase","English":"Welcome (To customers in a shop, store, etc.)"},{"Japanese":"ごめんください","Romaji":"gomenkudasai","English":"May I come in?"},{"Japanese":"どうぞ おあがりください","Romaji":"douzo oagari kudasai","English":"Yes, you may come in"},{"Japanese":"いっしょに いかがですか","Romaji":"issho ni ikaga desu ka","English":"Won’t you join us?"},{"Japanese":"いいえ、ちょっと","Romaji":"iie, chotto","English":"It’s a bit difficult"},{"Japanese":"だめですか","Romaji":"dame desu ka","English":"So, you can’t come?"},{"Japanese":"また こんど おねがいします","Romaji":"mata kondo onegaishimasu","English":"Please ask me some other time"},{"Japanese":"もういっぱい いかがですか","Romaji":"mou ippai ikaga desu ka","English":"Would you like to have one more cup?"},{"Japanese":"いいえ、けっこう です","Romaji":"iie, kekkou desu","English":"Polite way of refusing"},{"Japanese":"もういちど おねがいします","Romaji":"mou ichido onegaishimasu","English":"Can you repeat one more time?"},{"Japanese":"そろそろ しつれいします","Romaji":"sorosoro shitsurei shimasu","English":"I’m leaving before you"},{"Japanese":"おげんきですか","Romaji":"ogenki desu ka","English":"How are you?"},{"Japanese":"いいでんきですね","Romaji":"ii denki desu ne","English":"Nice weather"}]}]
audio_files = []

for category in japan_dataset:
    for title, phrases in category.items():
        title_filename = f"{title}_title.mp3"
        text_to_audio(title, 'en', title_filename)
        audio_files.append(title_filename)
        
        for i, phrase in enumerate(phrases):
            english_filename = f"{title}_english_{i}.mp3"
            japanese_filename = f"{title}_japanese_{i}.mp3"
            
            text_to_audio(phrase["English"], 'en', english_filename)
            audio_files.append(english_filename)
            
            text_to_audio(phrase["Japanese"], 'ja', japanese_filename)
            audio_files.append(japanese_filename)
            
            img = Image.new("RGB", (1920, 1080), color="black")
            draw = ImageDraw.Draw(img)
            font = ImageFont.truetype("YuGothR.ttc", size=100)
            text = f'{phrase["Japanese"]}\n \n{phrase["English"].upper()}'
            bbox = draw.textbbox((0, 0), text, font=font)
            text_width, text_height = bbox[2] - bbox[0], bbox[3] - bbox[1]
            position = ((1920 - text_width) / 2, (1080 - text_height) / 2)
            draw.multiline_text(position, text, font=font, fill="white")
            img.save("text_image.png")
            audio_clip = AudioFileClip(os.path.join("Audio", japanese_filename))
            clip = ImageClip("text_image.png").set_duration(audio_clip.duration)
            clip = clip.set_audio(audio_clip)
            output_video_japanese = os.path.join("Audio", f"{title}_japanese_{i}.mp4")
            clip.write_videofile(output_video_japanese, fps=24)

for category in japan_dataset:
    for title, phrases in category.items():
        set_audio_files = [f"{title}_title.mp3"]
        set_video_files = []
        for i in range(len(phrases)):
            set_audio_files.append(f"{title}_english_{i}.mp3")
            set_audio_files.extend([f"{title}_japanese_{i}.mp3"] * 5)
            set_video_files.extend([f"{title}_japanese_{i}.mp4"] * 5)
        
        combine_audio_files(set_audio_files, f"{title}_combined.mp3")
        
        video_clips = [VideoFileClip(os.path.join("Audio", video_file)) for video_file in set_video_files]
        final_video = concatenate_videoclips(video_clips)
        final_video.write_videofile(os.path.join("Audio", f"{title}_combined.mp4"), fps=24)

set_combined_files = [f"{title}_combined.mp3" for category in japan_dataset for title in category.keys()]
combine_audio_files(set_combined_files, "final_combined_audio.mp3")

# set_combined_video_files = [f"{title}_combined.mp4" for category in japan_dataset for title in category.keys()]
# final_video_clips = [VideoFileClip(os.path.join("Audio", video_file)) for video_file in set_combined_video_files]
# final_combined_video = concatenate_videoclips(final_video_clips)
# final_combined_video.write_videofile(os.path.join("Audio", "final_combined_video.mp4"), fps=24)

for file in set(audio_files):  # Use set to avoid deleting the same file multiple times
    print(f'{file} deleted')    
    os.remove(os.path.join("Audio", file))

for category in japan_dataset:
    for title, phrases in category.items():
        for i in range(len(phrases)):
            print(f"{title}_japanese_{i}.mp4")    
            os.remove(os.path.join("Audio", f"{title}_japanese_{i}.mp4"))
